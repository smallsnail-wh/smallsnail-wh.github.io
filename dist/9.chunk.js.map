{"version":3,"sources":["webpack:///./src/views/sys/role.vue","webpack:///role.vue","webpack:///./src/views/sys/role.vue?c0ee"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA,wBAAyH;AACzH;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyBA;;AAEA;;;AAEA;mBACA;AACA;qBACA;AACA;sBACA;AACA;yBACA;AACA;0BACA;AACA;mBACA;AACA;qBACA;AACA;;sBAEA;0BAEA;AAHA;AAIA;;oBAEA;sBACA;yBACA;0BAEA;AALA;AAMA;;oBAEA;sBACA;yBACA;0BAEA;AALA;AAMA;;oBAEA;sBACA;yBACA;0BAEA;AALA;AAMA;;sBAEA,8DAGA;AAJA;AAKA;;sBAEA,8DAGA;AAJA;AAKA;;sBAGA;uBACA;uBAEA;AAJA,aADA;uBAOA;qBAEA;AAHA;uBAKA;qBAEA;AAHA,wBAIA;qBACA;uBACA;uBACA;mDACA;uCACA;uCAEA;6DACA;;oDAEA;qDACA;AAIA;AANA;AAHA;AAYA;;AACA;mBACA;AACA;;uBAGA;qBAEA;AAHA,aADA;uBAMA;uBACA;mDACA;;;gDAKA;AAFA;;gEAIA;gFACA;yCACA;iDACA;6EACA;AACA;uCACA;iDACA;kEACA;AACA;AACA;AAIA;AAfA;AAJA,sBADA;AAuBA;AA3BA;AA4BA;mBACA;AACA;uBACA;AACA;0BAEA;AAjIA;AAkIA;gCACA;AACA;;6BAGA;AAFA;;oBAIA;iBACA;AAFA,oCAGA;yCACA;6CACA;kBACA;AACA;AACA;;;AAEA;8CACA;iCACA;qCACA;AACA;;AACA;sCACA;2BACA;6BACA;gCACA;iCACA;AACA;;AACA;4CACA;8BACA;gCACA;mCACA;oCACA;AACA;;AACA;kDACA;iCACA;mCACA;sCACA;uCACA;AACA;;AACA;qCACA;6BACA;+BACA;kCACA;mCACA;AACA;;AACA;2CACA;gCACA;kCACA;qCACA;sCACA;AACA;;AACA;iDACA;mCACA;qCACA;wCACA;yCACA;AACA;;AACA;uCACA;;wBAEA;qBACA;;uCAEA;2CAEA;AAHA;AAHA,wCAOA;2CACA;2CACA;iDACA;sBACA;AACA;AACA;;AACA;2CACA;qCACA;;iCAGA;AAFA;AAGA;;AACA;8CACA;4BACA;iBACA;uBACA;yBACA;2BACA;AACA;;AACA;;AACA;;0DACA;2BACA;2BACA;0CACA;;gCAEA;6BACA;qCACA;AAHA,gDAIA;6BACA;;6CAGA;AAFA;2CAGA;2DACA;8BACA;AACA;sCACA;uBACA;2CACA;yCACA;qDACA;6CACA;AACA;uBACA;AACA;AACA;AACA;;AACA;oDACA;kDACA;mCACA;sCACA;mBACA;mCACA;AACA;AACA;;AACA;;AACA;;6DACA;2BACA;2BACA;0CACA;;gCAEA;qDACA;qCACA;AAHA,gDAIA;6BACA;;6CAGA;AAFA;2CAGA;2DACA;8BACA;AACA;yCACA;uBACA;0CACA;2CACA;yCACA;qDACA;6CACA;AACA;uBACA;AACA;AACA;AACA;;AACA;qCACA;uBACA;gCACA;+BACA;sDACA;iCACA;mBACA;iDACA;AACA;4BACA;+DACA;gFACA;;mDAEA;qDACA;iCAEA;AAJA;uBAKA;;mDAEA;qDACA;iCAEA;AAJA;AAKA;AACA;yBACA;AACA;;AACA;wCACA;uBACA;0CACA;uEACA;sDACA;AACA;AACA;sCACA;iBACA;8BACA;;wBAEA;2CACA;2BACA;AAHA,wCAIA;qBACA;;qCAGA;AAFA;mCAGA;iDACA;sBACA;AACA;AACA;;AACA;kCACA;+BACA;AACA;;AACA;mCACA;+BACA;qCACA;AACA;4BACA;AACA;;AACA;2CACA;2BACA;2BACA;oDACA;uCACA;AACA;AACA;;AACA;4BACA;4DACA;;4BAEA;yBACA;+BACA;AAHA,4CAIA;;yCAGA;AAFA;mCAGA;iCACA;uCACA;qDACA;0BACA;AACA;AACA;AACA;;AACA;uCACA;+BACA;+BACA;uBACA;AAEA;AAtPA;AAnJA,G;;;;;;;ACrDA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"9.chunk.js","sourcesContent":["var Component = require(\"!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./role.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48038306\\\"}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./role.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"F:\\\\githubpage\\\\wh-web\\\\src\\\\views\\\\sys\\\\role.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] role.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-loader/node_modules/vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-48038306\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-48038306\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/sys/role.vue\n// module id = 52\n// module chunks = 9","<template>\r\n    <div style=\"margin: 20px;\">\r\n        <div>\r\n            <ul>\r\n                <li>\r\n                    <Button type=\"primary\" icon=\"plus-round\" @click=\"openNewModal()\">新建</Button>\r\n                    <Button type=\"success\" icon=\"wrench\" @click=\"openModifyModal()\">修改</Button>\r\n                    <Button type=\"error\" icon=\"trash-a\" @click=\"del()\">删除</Button>\r\n                </li>\r\n                <li>\r\n                    <div style=\"padding: 10px 0;\">\r\n                        <Table border :columns=\"columns1\" :data=\"data1\" :height=\"400\" @on-selection-change=\"s=>{change(s)}\" @on-row-dblclick=\"s=>{dblclick(s)}\"></Table>\r\n                    </div> \r\n                </li>\r\n                <li>\r\n                    <div style=\"text-align: right;\">\r\n                        <Page :total=\"total\" :page-size=\"pageInfo.pageSize\" show-elevator show-total @on-change=\"e=>{pageSearch(e)}\"></Page>\r\n                    </div>  \r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <!--添加modal-->  \r\n        <Modal :mask-closable=\"false\" :visible.sync=\"newModal\" :loading = \"loading\" v-model=\"newModal\" width=\"600\" title=\"新建\" @on-ok=\"newOk('roleNew')\" @on-cancel=\"cancel()\">\r\n            <Form ref=\"roleNew\" :model=\"roleNew\" :rules=\"ruleNew\" :label-width=\"80\" >\r\n                <Form-item label=\"角色名:\" prop=\"name\">\r\n                            <Input v-model=\"roleNew.name\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                <Form-item label=\"描述:\" prop=\"describe\">\r\n                     <Input v-model=\"roleNew.describe\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\"></Input>\r\n                </Form-item>\r\n            </Form>\r\n        </Modal>\r\n        <!--修改modal-->  \r\n        <Modal :mask-closable=\"false\" :visible.sync=\"modifyModal\" :loading = \"loading\" v-model=\"modifyModal\" width=\"600\" title=\"修改\" @on-ok=\"modifyOk('roleModify')\" @on-cancel=\"cancel()\">\r\n            <Form ref=\"roleModify\" :model=\"roleModify\" :rules=\"ruleModify\" :label-width=\"80\" >\r\n                <Form-item label=\"角色名:\" prop=\"name\">\r\n                            <Input v-model=\"roleModify.name\" style=\"width: 204px\"/>\r\n                        </Form-item>\r\n                <Form-item label=\"描述:\" prop=\"describe\">\r\n                     <Input v-model=\"roleModify.describe\" type=\"textarea\" :autosize=\"{minRows: 2,maxRows: 5}\"></Input>\r\n                </Form-item>\r\n            </Form>\r\n        </Modal>\r\n        <!-- 配置权限 -->\r\n        <Modal v-model=\"settingModal\"  width=\"400\" title=\"配置权限\" @on-ok=\"settingOk()\" @on-cancel=\"cancel()\" :mask-closable=\"false\">\r\n            <Row>\r\n                <Col span=\"24\"><Table border :columns=\"columns2\" :data=\"data2\"></Table></Col>\r\n            </Row>\r\n        </Modal>\r\n    </div>\r\n</template>\r\n<script>\r\n    export default {\r\n        data () {\r\n            return {\r\n                /*选择的数量*/\r\n                count:null,\r\n                /*选中的组数据*/\r\n                groupId:null,\r\n                /*新建modal的显示参数*/\r\n                newModal:false,\r\n                /*修改modal的显示参数*/\r\n                modifyModal:false,\r\n                /*权限modal的显示参数*/\r\n                settingModal:false,\r\n                /*分页total属性绑定值*/\r\n                total:0,\r\n                /*loading*/\r\n                loading: true,\r\n                /*pageInfo实体*/\r\n                pageInfo:{\r\n                    page:0,\r\n                    pageSize:10\r\n                },\r\n                /*role实体*/\r\n                role:{                             \r\n                    id:null,\r\n                    name:null,\r\n                    modules:null,\r\n                    describe:null\r\n                },\r\n                /*用于添加的role实体*/\r\n                roleNew:{\r\n                    id:null,\r\n                    name:null,\r\n                    modules:null,\r\n                    describe:null\r\n                },\r\n                /*用于修改的role实体*/\r\n                roleModify:{\r\n                    id:null,\r\n                    name:null,\r\n                    modules:null,\r\n                    describe:null\r\n                },\r\n                /*新建验证*/\r\n                ruleNew:{\r\n                    name: [\r\n                        { type:'string',required: true, message: '输入角色名', trigger: 'blur' }\r\n                    ]\r\n                },\r\n                /*修改验证*/\r\n                ruleModify:{\r\n                    name: [\r\n                        { type:'string',required: true, message: '输入角色名', trigger: 'blur' }\r\n                    ]\r\n                },\r\n                /*表显示字段*/\r\n                columns1: [\r\n                    {\r\n                        type: 'selection',\r\n                        width: 60,\r\n                        align: 'center'\r\n                    },\r\n                    {\r\n                        title: '角色名',\r\n                        key: 'name'\r\n                    },\r\n                    {\r\n                        title: '描述',\r\n                        key: 'describe'\r\n                    },\r\n                    {   title: '操作', \r\n                        key: 'action', \r\n                        width: 180, \r\n                        align: 'center', \r\n                        render: (h, params) => { \r\n                            return h('div', [ h('Button', \r\n                                { \r\n                                    props: { icon:'gear-b' },\r\n                                    style: {border:'none',background:'none' }, \r\n                                    on: { \r\n                                        click: () => { \r\n                                            this.setting(params.row);\r\n                                        } \r\n                                    } \r\n                                }, ) \r\n                            ]); \r\n                        } \r\n                    }\r\n                ],\r\n                /*表数据*/\r\n                data1: [],\r\n                /*表显示字段*/\r\n                columns2: [\r\n                    {\r\n                        title: '权限',\r\n                        key: 'name'\r\n                    },\r\n                    {\r\n                        title: '操作',\r\n                        align: 'center',\r\n                        render: (h, params) => {\r\n                            return h('div',[\r\n                                h('i-switch',{\r\n                                    attrs:{\r\n                                        'value' : params.row.value \r\n                                    },\r\n                                    on:{\r\n                                        'on-change':(val)=>{\r\n                                            var i = this.moduleArr.indexOf(params.row.id+'');\r\n                                            if(val){\r\n                                                if(i == -1){\r\n                                                    this.moduleArr.push(params.row.id+'');\r\n                                                }\r\n                                            }else{\r\n                                                if(i != -1){\r\n                                                    this.moduleArr.splice(i,1);\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                })\r\n                            ]);\r\n                        }\r\n                    }\r\n                ],\r\n                /*表数据*/\r\n                data2: [],\r\n                /*临时存储权限的数组*/\r\n                moduleArr:[],\r\n                /*二级菜单列表*/\r\n                submenusList:[]\r\n            }\r\n        },\r\n        mounted(){\r\n            /*页面初始化调用方法*/\r\n            this.getTable({\r\n                \"pageInfo\":this.pageInfo\r\n            });\r\n            this.axios({\r\n              method: 'get',\r\n              url: '/menus/submenus'\r\n            }).then(function (response) {\r\n                this.submenusList = response.data;\r\n            }.bind(this)).catch(function (error) {\r\n              alert(error);\r\n            });\r\n        },\r\n        methods:{\r\n            /*pageInfo实体初始化*/\r\n            initPageInfo(){\r\n                this.pageInfo.page = 0;\r\n                this.pageInfo.pageSize = 10;\r\n            },\r\n            /*role实体初始化*/\r\n            initRole(){\r\n                this.role.id = null;\r\n                this.role.name = null;\r\n                this.role.modules = null;\r\n                this.role.describe = null;\r\n            },\r\n            /*roleNew实体初始化*/\r\n            initRoleNew(){\r\n                this.roleNew.id = null;\r\n                this.roleNew.name = null;\r\n                this.roleNew.modules = null;\r\n                this.roleNew.describe = null;\r\n            },\r\n            /*roleModify实体初始化*/\r\n            initRoleModify(){\r\n                this.roleModify.id = null;\r\n                this.roleModify.name = null;\r\n                this.roleModify.modules = null;\r\n                this.roleModify.describe = null;\r\n            },\r\n            /*roleNew设置*/\r\n            roleSet(e){\r\n                this.role.id = e.id;\r\n                this.role.name = e.name;\r\n                this.role.modules = e.modules;\r\n                this.role.describe = e.describe;\r\n            },\r\n            /*roleNew设置*/\r\n            roleNewSet(e){\r\n                this.roleNew.id = e.id;\r\n                this.roleNew.name = e.name;\r\n                this.roleNew.modules = e.modules;\r\n                this.roleNew.describe = e.describe;\r\n            },\r\n            /*roleModify设置*/\r\n            roleModifySet(e){\r\n                this.roleModify.id = e.id;\r\n                this.roleModify.name = e.name;\r\n                this.roleModify.modules = e.modules;\r\n                this.roleModify.describe = e.describe;\r\n            },\r\n            /*得到表数据*/\r\n            getTable(e) {\r\n                this.axios({\r\n                  method: 'get',\r\n                  url: '/roles',\r\n                  params: {\r\n                    'page':e.pageInfo.page,\r\n                    'pageSize':e.pageInfo.pageSize\r\n                  }\r\n                }).then(function (response) {\r\n                    this.data1=response.data.data;\r\n                    this.total=response.data.totalCount;\r\n                }.bind(this)).catch(function (error) {\r\n                  alert(error);\r\n                });\r\n            },\r\n            /*分页点击事件*/\r\n            pageSearch(e){\r\n                this.pageInfo.page = e-1;\r\n                this.getTable({  \r\n                    \"pageInfo\":this.pageInfo\r\n                });\r\n            },\r\n            /*新建点击触发事件*/\r\n            openNewModal(){\r\n                this.newModal = true;\r\n                this.initRoleNew();\r\n                this.data1.sort();\r\n                this.count = 0;\r\n                this.groupId = null;\r\n            },\r\n            /*新建modal的newOk点击事件*/\r\n            newOk (roleNew) { \r\n                this.$refs[roleNew].validate((valid) => {\r\n                    if (valid) {\r\n                        this.initRole();\r\n                        this.roleSet(this.roleNew);\r\n                        this.axios({\r\n                            method: 'post',\r\n                            url: '/roles/role',\r\n                            data: this.role\r\n                        }).then(function (response) {\r\n                            this.initRoleNew();\r\n                            this.getTable({\r\n                                \"pageInfo\":this.pageInfo\r\n                            });\r\n                            this.$Message.info('新建成功');\r\n                        }.bind(this)).catch(function (error) {\r\n                            alert(error);\r\n                        });  \r\n                        this.newModal = false;\r\n                    }else {\r\n                        setTimeout(() => {\r\n                            this.loading = false;\r\n                            this.$nextTick(() => {\r\n                                this.loading = true;\r\n                            });\r\n                        }, 1000);\r\n                    }\r\n                })\r\n            },\r\n            /*点击修改时判断是否只选择一个*/\r\n            openModifyModal(){\r\n                if(this.count > 1 || this.count < 1){\r\n                    this.modifyModal= false; \r\n                    this.$Message.warning('请至少选择一项(且只能选择一项)');  \r\n                }else{\r\n                    this.modifyModal = true;\r\n                }\r\n            },\r\n            /*修改modal的modifyOk点击事件*/\r\n             modifyOk (roleModify) { \r\n                this.$refs[roleModify].validate((valid) => {\r\n                    if (valid) {\r\n                        this.initRole();\r\n                        this.roleSet(this.roleModify);\r\n                        this.axios({\r\n                          method: 'put',\r\n                          url: '/roles/'+this.role.id,\r\n                          data: this.role\r\n                        }).then(function (response) {\r\n                            this.initRoleModify();\r\n                            this.getTable({\r\n                                \"pageInfo\":this.pageInfo\r\n                            });\r\n                            this.$Message.info('修改成功');\r\n                        }.bind(this)).catch(function (error) {\r\n                          alert(error);\r\n                        });  \r\n                        this.modifyModal = false;\r\n                    }else {\r\n                        this.$Message.error('表单验证失败!');\r\n                        setTimeout(() => {\r\n                            this.loading = false;\r\n                            this.$nextTick(() => {\r\n                                this.loading = true;\r\n                            });\r\n                        }, 1000);\r\n                    }\r\n                })\r\n            },\r\n            /*表格中按钮点击事件*/\r\n            setting(e){\r\n                this.data1.sort();\r\n                this.settingModal = true;\r\n                this.roleModifySet(e);\r\n                if(e.modules == null || e.modules == ''){\r\n                    this.moduleArr = [];\r\n                }else{\r\n                    this.moduleArr = e.modules.split(\";\");\r\n                }\r\n                var data2Temp = [];\r\n                for (var i = 0; i < this.submenusList.length; i++) {\r\n                    if(this.moduleArr.indexOf(this.submenusList[i].id+'') == -1){\r\n                        data2Temp.push({\r\n                            'id': this.submenusList[i].id,\r\n                            'name': this.submenusList[i].name,\r\n                            'value': false\r\n                        });\r\n                    }else{\r\n                        data2Temp.push({\r\n                            'id': this.submenusList[i].id,\r\n                            'name': this.submenusList[i].name,\r\n                            'value': true\r\n                        });\r\n                    }\r\n                }\r\n                this.data2 = data2Temp;\r\n            },\r\n            /*配置权限的settingOk点击事件*/\r\n            settingOk(){\r\n                var temp = \"\";\r\n                for(var i in this.moduleArr){\r\n                    if(this.moduleArr[i] != '' && this.moduleArr != null){\r\n                        temp = temp + this.moduleArr[i]+\";\";\r\n                    }\r\n                }\r\n                this.roleModify.modules = temp;\r\n                this.initRole();\r\n                this.roleSet(this.roleModify);\r\n                this.axios({\r\n                  method: 'put',\r\n                  url: '/roles/'+this.role.id,\r\n                  data: this.role\r\n                }).then(function (response) {\r\n                    this.initRoleModify();\r\n                    this.getTable({\r\n                        \"pageInfo\":this.pageInfo\r\n                    });\r\n                    this.$Message.info('配置成功');\r\n                }.bind(this)).catch(function (error) {\r\n                  alert(error);\r\n                });\r\n            },\r\n            /*modal的cancel点击事件*/\r\n            cancel () {\r\n                this.$Message.info('点击了取消');\r\n            },\r\n            /*table选择后触发事件*/\r\n            change(e){\r\n                if(e.length==1){\r\n                    this.roleModifySet(e['0']);\r\n                }\r\n                this.setGroupId(e);              \r\n            },\r\n            /*通过选中的行设置groupId的值*/\r\n            setGroupId(e){\r\n                this.groupId=[];\r\n                this.count=e.length;\r\n                for (var i = 0; i <= e.length - 1; i++) {\r\n                    this.groupId.push(e[i].id);\r\n                }\r\n            },\r\n            /*删除table中选中的数据*/\r\n            del(){\r\n                if(this.groupId!=null && this.groupId!=\"\"){\r\n                    this.axios({\r\n                      method: 'delete',\r\n                      url: '/roles',\r\n                      data: this.groupId\r\n                    }).then(function (response) {\r\n                        this.getTable({\r\n                            \"pageInfo\":this.pageInfo\r\n                        });\r\n                        this.groupId=null;\r\n                        this.count=0;\r\n                        this.$Message.info('删除成功');\r\n                    }.bind(this)).catch(function (error) {\r\n                        alert(error);\r\n                    });\r\n                }\r\n            },\r\n            /*表格中双击事件*/\r\n            dblclick(e){\r\n                this.roleModifySet(e);\r\n                this.modifyModal = true;\r\n                this.data1.sort();\r\n            }\r\n        }\r\n    }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// role.vue?5173b6b9","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"margin\": \"20px\"\n    }\n  }, [_c('div', [_c('ul', [_c('li', [_c('Button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"icon\": \"plus-round\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.openNewModal()\n      }\n    }\n  }, [_vm._v(\"新建\")]), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"success\",\n      \"icon\": \"wrench\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.openModifyModal()\n      }\n    }\n  }, [_vm._v(\"修改\")]), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"error\",\n      \"icon\": \"trash-a\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.del()\n      }\n    }\n  }, [_vm._v(\"删除\")])], 1), _vm._v(\" \"), _c('li', [_c('div', {\n    staticStyle: {\n      \"padding\": \"10px 0\"\n    }\n  }, [_c('Table', {\n    attrs: {\n      \"border\": \"\",\n      \"columns\": _vm.columns1,\n      \"data\": _vm.data1,\n      \"height\": 400\n    },\n    on: {\n      \"on-selection-change\": function (s) {\n        _vm.change(s)\n      },\n      \"on-row-dblclick\": function (s) {\n        _vm.dblclick(s)\n      }\n    }\n  })], 1)]), _vm._v(\" \"), _c('li', [_c('div', {\n    staticStyle: {\n      \"text-align\": \"right\"\n    }\n  }, [_c('Page', {\n    attrs: {\n      \"total\": _vm.total,\n      \"page-size\": _vm.pageInfo.pageSize,\n      \"show-elevator\": \"\",\n      \"show-total\": \"\"\n    },\n    on: {\n      \"on-change\": function (e) {\n        _vm.pageSearch(e)\n      }\n    }\n  })], 1)])])]), _vm._v(\" \"), _c('Modal', {\n    attrs: {\n      \"mask-closable\": false,\n      \"visible\": _vm.newModal,\n      \"loading\": _vm.loading,\n      \"width\": \"600\",\n      \"title\": \"新建\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.newModal = $event\n      },\n      \"on-ok\": function($event) {\n        _vm.newOk('roleNew')\n      },\n      \"on-cancel\": function($event) {\n        _vm.cancel()\n      }\n    },\n    model: {\n      value: (_vm.newModal),\n      callback: function($$v) {\n        _vm.newModal = $$v\n      },\n      expression: \"newModal\"\n    }\n  }, [_c('Form', {\n    ref: \"roleNew\",\n    attrs: {\n      \"model\": _vm.roleNew,\n      \"rules\": _vm.ruleNew,\n      \"label-width\": 80\n    }\n  }, [_c('Form-item', {\n    attrs: {\n      \"label\": \"角色名:\",\n      \"prop\": \"name\"\n    }\n  }, [_c('Input', {\n    staticStyle: {\n      \"width\": \"204px\"\n    },\n    model: {\n      value: (_vm.roleNew.name),\n      callback: function($$v) {\n        _vm.$set(_vm.roleNew, \"name\", $$v)\n      },\n      expression: \"roleNew.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"描述:\",\n      \"prop\": \"describe\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": {\n        minRows: 2,\n        maxRows: 5\n      }\n    },\n    model: {\n      value: (_vm.roleNew.describe),\n      callback: function($$v) {\n        _vm.$set(_vm.roleNew, \"describe\", $$v)\n      },\n      expression: \"roleNew.describe\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('Modal', {\n    attrs: {\n      \"mask-closable\": false,\n      \"visible\": _vm.modifyModal,\n      \"loading\": _vm.loading,\n      \"width\": \"600\",\n      \"title\": \"修改\"\n    },\n    on: {\n      \"update:visible\": function($event) {\n        _vm.modifyModal = $event\n      },\n      \"on-ok\": function($event) {\n        _vm.modifyOk('roleModify')\n      },\n      \"on-cancel\": function($event) {\n        _vm.cancel()\n      }\n    },\n    model: {\n      value: (_vm.modifyModal),\n      callback: function($$v) {\n        _vm.modifyModal = $$v\n      },\n      expression: \"modifyModal\"\n    }\n  }, [_c('Form', {\n    ref: \"roleModify\",\n    attrs: {\n      \"model\": _vm.roleModify,\n      \"rules\": _vm.ruleModify,\n      \"label-width\": 80\n    }\n  }, [_c('Form-item', {\n    attrs: {\n      \"label\": \"角色名:\",\n      \"prop\": \"name\"\n    }\n  }, [_c('Input', {\n    staticStyle: {\n      \"width\": \"204px\"\n    },\n    model: {\n      value: (_vm.roleModify.name),\n      callback: function($$v) {\n        _vm.$set(_vm.roleModify, \"name\", $$v)\n      },\n      expression: \"roleModify.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"描述:\",\n      \"prop\": \"describe\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"type\": \"textarea\",\n      \"autosize\": {\n        minRows: 2,\n        maxRows: 5\n      }\n    },\n    model: {\n      value: (_vm.roleModify.describe),\n      callback: function($$v) {\n        _vm.$set(_vm.roleModify, \"describe\", $$v)\n      },\n      expression: \"roleModify.describe\"\n    }\n  })], 1)], 1)], 1), _vm._v(\" \"), _c('Modal', {\n    attrs: {\n      \"width\": \"400\",\n      \"title\": \"配置权限\",\n      \"mask-closable\": false\n    },\n    on: {\n      \"on-ok\": function($event) {\n        _vm.settingOk()\n      },\n      \"on-cancel\": function($event) {\n        _vm.cancel()\n      }\n    },\n    model: {\n      value: (_vm.settingModal),\n      callback: function($$v) {\n        _vm.settingModal = $$v\n      },\n      expression: \"settingModal\"\n    }\n  }, [_c('Row', [_c('Col', {\n    attrs: {\n      \"span\": \"24\"\n    }\n  }, [_c('Table', {\n    attrs: {\n      \"border\": \"\",\n      \"columns\": _vm.columns2,\n      \"data\": _vm.data2\n    }\n  })], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-loader/node_modules/vue-hot-reload-api\").rerender(\"data-v-48038306\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-48038306\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/sys/role.vue\n// module id = 84\n// module chunks = 9"],"sourceRoot":""}